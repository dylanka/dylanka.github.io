<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<title>Game Title</title>
	<script type="text/javascript" src="js/phaser.min.js"></script>
<!-- 	<link rel="stylesheet" href="css/normalize.css">
	<link rel="stylesheet" href="css/style.css"> -->

</head>

<body>
	<h1>Game Title</h1>
	<div id="gameFrame">

		<script type="text/javascript">

		var game = new Phaser.Game(800, 600, Phaser.AUTO, '', { preload: preload, create: create, update: update });

		var background;
		var player;
		var cursors;
        var bullet;
        var bulletTime = 0;
        var fire;

    	function preload() {

    		game.load.image('background', 'assets/background.png');
    		game.load.image('player', 'assets/ship.png');
            game.load.image('bullet', 'assets/bullet.png')

    	}

    	function create() {

		    game.add.sprite(0, 0, 'background');

		    background = game.add.tileSprite(0, 0, 800, 800, 'background');

	        player = game.add.sprite(100, game.world.height - 300, 'player');

	        game.physics.enable(player, Phaser.Physics.ARCADE);

	        cursors = game.input.keyboard.createCursorKeys();

            bullet = game.add.group();
            bullet.enableBody = true;
            bullet.physicsBodyType = Phaser.Physics.ARCADE;
            bullet.createMultiple(30, 'bullet');
            bullet.setAll('anchor.x', 1);
            bullet.setAll('anchor.y', 0.5);
            bullet.setAll('outOfBoundsKill', true);
            bullet.setAll('checkWorldBounds', true);

            fire = game.input.keyboard.addKey(Phaser.Keyboard.SPACEBAR);

    	}

        function update() {

        	player.body.velocity.x = 0;

        	player.body.velocity.y = 0;

	        background.tilePosition.x -= 1;

        	if(cursors.left.isDown){
        		player.body.velocity.x = -180;
        	}
        	if(cursors.right.isDown){
        		player.body.velocity.x = 180;
        	}
        	if(cursors.up.isDown){
        		player.body.velocity.y = -180;
        	}
        	if(cursors.down.isDown){
        		player.body.velocity.y = 180;
        	}

            if(fire.isDown){
                fireBullet();
            }

        }

        game.state.add('mainState',mainState);
        game.state.start('mainState');

		</script>
	</div>
</body>
</html>